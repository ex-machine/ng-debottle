{"version":3,"sources":["ng-debottle.js"],"names":["__root","__factory","define","amd","exports","module","require","angular","this","__small$_mod_0","Debottle","$timeout","delay","$delay","$cancel","cancel","$flush","flush","__small$_1","apply","self","fn","args","selfless","undefined","length","call","debottle","clearTimeout","debounce","cb","debouncedFn","arguments","setTimeout","e","throttle","throttledFn","ngDebottle","constant","factory","invokeApply","$q","$$state","status","fnResultPromise","when","name"],"mappings":"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","file":"ng-debottle.min.js","sourcesContent":["(function(__root, __factory) { if (typeof define === \"function\" && define.amd) { define(\"ng-debottle\", [\"angular\"], __factory);} else if (typeof exports === \"object\") {module.exports = __factory(require(\"angular\"));} else {__root[\"ng-debottle\"] = __factory(angular);}})(this, (function(__small$_mod_0) {\nvar exports = {};\nvar __small$_1 = (function() {\nvar exports = {};\nfunction apply(self, fn, args) {\r\n\tvar selfless = (self === undefined) || (self === null);\r\n\tvar length = args ? args.length : 0;\r\n\t\r\n\tswitch (length) {\r\n\t\tcase 0:\r\n\t\t\treturn selfless ? fn() : fn.call(self);\r\n\t\tcase 1:\r\n\t\t\treturn selfless ? fn(args[0]) : fn.call(self, args[0]);\r\n\t\tcase 2:\r\n\t\t\treturn selfless ? fn(args[0], args[1]) : fn.call(self, args[0], args[1]);\r\n\t\tcase 3:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2]) : fn.call(self, args[0], args[1], args[2]);\r\n\t\tcase 4:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3]) : fn.call(self, args[0], args[1], args[2], args[3]);\r\n\t\tcase 5:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3], args[4]) : fn.call(self, args[0], args[1], args[2], args[3], args[4]);\r\n\t\tcase 6:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3], args[4], args[5]) : fn.call(self, args[0], args[1], args[2], args[3], args[4], args[5]);\r\n\t\t// the crucial point\r\n\t\tcase 7:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3], args[4], args[5], args[6]) : fn.call(self, args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\r\n\t\tdefault:\r\n\t\t\treturn selfless ? fn.apply(null, args) : fn.apply(self, args);\r\n\t}\r\n}\r\n\r\nexports = apply;\nreturn exports;\n})();\n'use strict';\r\n\r\nvar angular = __small$_mod_0;\r\nvar apply = __small$_1;\r\nvar debottle = ((function() {\nvar exports = {};\nvar apply = __small$_1;\r\n\r\nfunction Debottle(delay) {\r\n\tthis.$delay = delay;\r\n\r\n\tthis.$cancel = function () {\r\n\t\treturn clearTimeout(this.$timeout);\r\n\t}\r\n}\r\n\r\nfunction debounce(fn, delay, cb) {\r\n\tif (arguments.length === 2 && typeof delay === 'function') {\r\n\t\tcb = delay;\r\n\t\tdelay = undefined;\r\n\t}\r\n\r\n\tvar self = debouncedFn;\r\n\tDebottle.call(self, delay);\r\n\r\n\tfunction debouncedFn() {\r\n\t\tvar args = arguments;\r\n\r\n\t\tif (self.$timeout !== undefined)\r\n\t\t\tself.$cancel();\r\n\r\n\t\tself.$timeout = setTimeout(function () {\r\n\t\t\tif (typeof cb !== 'function')\r\n\t\t\t\treturn apply(null, fn, args);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tcb(null, apply(null, fn, args));\r\n\t\t\t} catch (e)\t{\r\n\t\t\t\tcb(e);\r\n\t\t\t}\r\n\t\t}, self.$delay);\r\n\t};\r\n\r\n\treturn self;\r\n}\r\n\r\nfunction throttle(fn, delay, cb) {\r\n\tif (arguments.length === 2 && typeof delay === 'function') {\r\n\t\tcb = delay;\r\n\t\tdelay = undefined;\r\n\t}\r\n\r\n\tvar self = throttledFn;\r\n\tDebottle.call(self, delay);\r\n\r\n\tfunction throttledFn() {\r\n\t\tvar args = arguments;\r\n\r\n\t\tif (self.$timeout !== undefined)\r\n\t\t\treturn;\r\n\r\n\t\tself.$timeout = setTimeout(function () {\r\n\t\t\tself.$timeout = undefined;\r\n\t\t}, self.$delay);\r\n\r\n\t\tif (typeof cb !== 'function')\r\n\t\t\treturn apply(null, fn, args);\r\n\r\n\t\ttry {\r\n\t\t\tcb(null, apply(null, fn, args));\r\n\t\t} catch (e)\t{\r\n\t\t\tcb(e);\r\n\t\t}\r\n\t};\r\n\r\n\treturn self;\r\n}\r\n\r\nexports.debounce = debounce;\r\nexports.throttle = throttle;\r\n\nreturn exports;\n})());\r\n\r\nfunction Debottle($timeout, delay) {\r\n\tthis.$delay = delay;\r\n\r\n\tthis.$cancel = function () {\r\n\t\treturn $timeout.cancel(this.$timeout);\r\n\t}\r\n\r\n\tthis.$flush = function (delay) {\r\n\t\treturn this.$timeout.flush(delay);\r\n\t}\r\n}\r\n\r\nvar ngDebottle = angular.module('ngDebottle', [])\r\n.constant('debounce', debottle.debounce)\r\n.constant('throttle', debottle.throttle)\r\n.factory('$debounce', ['$timeout', function ($timeout) {\r\n\treturn function (fn, delay, invokeApply) {\r\n\t\tvar self = debouncedFn;\r\n\t\tDebottle.call(self, $timeout, delay);\r\n\r\n\t\tfunction debouncedFn() {\r\n\t\t\tvar args = arguments;\r\n\r\n\t\t\tself.$cancel();\r\n\r\n\t\t\treturn self.$timeout = $timeout(function () {\r\n\t\t\t\treturn apply(null, fn, args);\r\n\t\t\t}, self.$delay, invokeApply);\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t}\r\n}])\r\n.factory('$throttle', ['$timeout', '$q', function ($timeout, $q) {\r\n\treturn function (fn, delay, invokeApply) {\r\n\t\tvar self = throttledFn;\r\n\t\tDebottle.call(self, $timeout, delay);\r\n\r\n\t\tfunction throttledFn() {\r\n\t\t\tvar args = arguments;\r\n\r\n\t\t\tif (!self.$timeout || self.$timeout.$$state.status > 0) {\r\n\t\t\t\tvar fnResultPromise = $q.when(apply(null, fn, args));\r\n\t\t\t\t\r\n\t\t\t\tself.$timeout = $timeout(function () {\r\n\t\t\t\t\treturn fnResultPromise;\r\n\t\t\t\t}, self.$delay, invokeApply);\r\n\t\t\t}\r\n\r\n\t\t\treturn fnResultPromise || self.$timeout;\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t}\r\n}]);\r\n\r\nexports = ngDebottle.name;\nreturn exports;\n}))"],"sourceRoot":"/source/"}